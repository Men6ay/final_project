{% extends 'base.html' %}
{% load static %}
{% block title %}
    {{ post.title }}
{% endblock %}
{% block style %}
    <style>
        .like{
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .like > *{
            margin: 5px 0 5px -90px;
        }
    </style>
{% endblock %}
{% block content %}
    <div class="container">
        <div class="post">
            <h1>{{ post.title }}</h1>
            {% for image in images %}
                <img src="/media/{{ image.image }}" alt=""
                     width="200px" height="150px">
            {% endfor %}
            {% for video in videos %}
                <video src="/media/{{ video.video }}" controls
                       width="200px" height="187px"></video>
            {% endfor %}
            <p>{{ post.description }}</p>
            <p>
                {% for tag in post.tags.all %}
                    {{ tag.name }}
                {% endfor %}
            </p>
            <h5>{{ post.user.username }}</h5>
            <h6>{{ post.create_at }}</h6>
            <div class="like">
                <form method="post" action="{% url 'users:post_like' %}">
                    {% csrf_token %}
                    <div class="d-flex p-3 justify-content-between" style="width: 150px;">
                        <input type="hidden" name="post_id" value="{{ post.id }}">
                        <button><i class="far fa-heart" style="font-size:25px"></i></button>
                    </div>
                </form>
                <div class="ml-3">
                    <i>{{ post.like_post.all.count }} people like this </i>
                </div>
            </div>
            {% if user.is_authenticated %}
                <form action="{% url 'users:post_delete' post.id %}"
                      method="post">
                    {% csrf_token %}
                    <input type="submit" value="Delete post">
                </form>
            {% endif %}
        </div>
    </div>
{% endblock %}